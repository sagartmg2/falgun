<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>todo list</h1>

    <form onsubmit="addTodo(event)">
        <input id="todo-title" name="todo-title" type="text" required value="">
        <input type="submit" value="submit">
    </form>
    <hr>
    <ul id="todo-list">
        <!-- <li>css</li>
        <li>html</li> -->
    </ul>

    <script>

        let todos = []

        if (localStorage.getItem("todos")) {
            let arr = JSON.parse(localStorage.getItem("todos")) // [html,css]
            todos = arr
            convertTodosToList()
        }


        function addTodo(event) {
            event.preventDefault() // prevents page refresh

            todos.push(event.target["todo-title"].value)
            console.log(todos)
            convertTodosToList()
            localStorage.setItem("todos", JSON.stringify(todos))


            event.target["todo-title"].value = ""

        }


        function convertTodosToList() {
            let str = ""

            // for (let i = 0; i < todos.length; i++) {
            //     // str += "<li>" + todos[i] + "</li>"
            //     str += `<li>  ${todos[i]} </li>`
            // }

            todos.forEach((element) => {
                str += `<li>  ${element} <button onclick="removeTodo()">delete</button> </li>`
            })

            document.getElementById("todo-list").innerHTML = str
        }

        function removeTodo() {
            console.log("removed...");

            /* logic to remove the selected todo.  */

        }

    </script>
</body>

</html>